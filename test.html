<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro-Personality Predictor</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a nice typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to supplement Tailwind */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0c0a1e; /* Deep space blue */
            background-image:
                radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                radial-gradient(circle at 80% 90%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            color: #e0e0e0;
        }

        /* Simple animation for the loading spinner */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .spinner {
            animation: spin 1s linear infinite;
        }

        /* Card glassmorphism effect */
        .glass-card {
            background: rgba(25, 28, 54, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom button style */
        .predict-btn {
            background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(50, 100, 255, 0.2);
        }
        .predict-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(50, 100, 255, 0.4);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <main class="w-full max-w-2xl mx-auto">
        <div class="glass-card rounded-2xl p-6 sm:p-10 text-center shadow-2xl">
            <!-- Header section -->
            <div class="mb-8">
                <h1 class="text-4xl sm:text-5xl font-bold text-white mb-2">Astro-Personality Predictor</h1>
                <p class="text-lg text-gray-300">Describe your personality, and we'll reveal the stars' alignment for you.</p>
            </div>

            <!-- Input form -->
            <div class="space-y-6">
                <textarea id="personalityInput" rows="6" class="w-full p-4 bg-gray-900/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all" placeholder="Tell us about yourself... Are you adventurous, caring, organized, creative? The more detail, the better the prediction."></textarea>
                <button id="predictButton" class="predict-btn w-full sm:w-auto px-12 py-3 text-lg font-semibold text-white rounded-lg">
                    Predict My Stars
                </button>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="mt-8 hidden">
                <!-- Loading Spinner -->
                <div id="loadingSpinner" class="flex justify-center items-center my-6">
                     <svg class="spinner h-10 w-10 text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <p class="ml-4 text-lg text-gray-300">Analyzing the cosmos for you...</p>
                </div>

                <!-- Prediction Content -->
                <div id="predictionContent" class="hidden text-left p-6 bg-gray-900/70 rounded-lg border border-gray-700">
                    <h2 class="text-2xl font-bold text-blue-300 mb-4">Your Cosmic Blueprint:</h2>
                    <p id="predictionText" class="text-gray-200 leading-relaxed"></p>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- JavaScript Logic ---

        const predictButton = document.getElementById('predictButton');
        const personalityInput = document.getElementById('personalityInput');
        const resultsSection = document.getElementById('resultsSection');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const predictionContent = document.getElementById('predictionContent');
        const predictionText = document.getElementById('predictionText');

        // A simple map of personality traits to astrological signs and planets.
        // This is a simplified model for demonstration purposes.
        const astroData = {
            Aries: { planet: 'Mars', keywords: ['adventurous', 'bold', 'leader', 'energetic', 'competitive', 'impulsive'] },
            Taurus: { planet: 'Venus', keywords: ['patient', 'reliable', 'stable', 'practical', 'sensual', 'grounded'] },
            Gemini: { planet: 'Mercury', keywords: ['curious', 'adaptable', 'witty', 'communicative', 'social', 'playful'] },
            Cancer: { planet: 'Moon', keywords: ['caring', 'emotional', 'intuitive', 'protective', 'nurturing', 'sensitive'] },
            Leo: { planet: 'Sun', keywords: ['confident', 'creative', 'dramatic', 'generous', 'loyal', 'leader'] },
            Virgo: { planet: 'Mercury', keywords: ['organized', 'analytical', 'practical', 'detail-oriented', 'modest', 'helpful'] },
            Libra: { planet: 'Venus', keywords: ['diplomatic', 'fair', 'social', 'artistic', 'charming', 'indecisive'] },
            Scorpio: { planet: 'Pluto', keywords: ['passionate', 'resourceful', 'determined', 'mysterious', 'intense', 'brave'] },
            Sagittarius: { planet: 'Jupiter', keywords: ['optimistic', 'adventurous', 'philosophical', 'independent', 'honest', 'restless'] },
            Capricorn: { planet: 'Saturn', keywords: ['disciplined', 'ambitious', 'practical', 'patient', 'responsible', 'serious'] },
            Aquarius: { planet: 'Uranus', keywords: ['independent', 'original', 'intellectual', 'humanitarian', 'eccentric', 'unconventional'] },
            Pisces: { planet: 'Neptune', keywords: ['compassionate', 'artistic', 'intuitive', 'gentle', 'wise', 'dreamy'] }
        };

        // Event listener for the predict button
        predictButton.addEventListener('click', () => {
            const inputText = personalityInput.value.toLowerCase();

            if (inputText.trim() === '') {
                alert('Please describe your personality first.');
                return;
            }

            // Show loading spinner and results section
            resultsSection.classList.remove('hidden');
            loadingSpinner.classList.remove('hidden');
            predictionContent.classList.add('hidden');

            // Simulate a delay for the "prediction"
            setTimeout(() => {
                const prediction = generatePrediction(inputText);
                predictionText.innerHTML = prediction;
                
                loadingSpinner.classList.add('hidden');
                predictionContent.classList.remove('hidden');
            }, 2500); // 2.5 second delay
        });

        function generatePrediction(text) {
            let scores = {};

            // Initialize scores for all signs
            for (const sign in astroData) {
                scores[sign] = 0;
            }

            // Calculate scores based on keyword matches
            for (const sign in astroData) {
                astroData[sign].keywords.forEach(keyword => {
                    if (text.includes(keyword)) {
                        scores[sign]++;
                    }
                });
            }

            // Sort signs by score to find the most dominant ones
            const sortedSigns = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);

            const dominantSign = sortedSigns[0];
            const secondarySign = sortedSigns[1];
            const tertiarySign = sortedSigns[2];
            
            // Check if any keywords were matched at all
            if (scores[dominantSign] === 0) {
                return "The cosmos is quiet today. We couldn't quite grasp your personality from your description. Try using more descriptive words like 'adventurous', 'caring', 'organized', or 'creative' to help us align with the stars.";
            }

            // Build a personalized prediction string
            const dominantPlanet = astroData[dominantSign].planet;
            const secondaryPlanet = astroData[secondarySign].planet;
            
            let result = `Based on your self-description, your dominant astrological energy resonates strongly with <strong>${dominantSign}</strong>, guided by the powerful planet <strong>${dominantPlanet}</strong>. This suggests a core personality that is ${astroData[dominantSign].keywords.slice(0, 3).join(', ')}.<br><br>`;
            
            result += `We also sense a significant influence from <strong>${secondarySign}</strong>, adding traits of being ${astroData[secondarySign].keywords.slice(0, 2).join(' and ')}. Your potential astrological chart might feature:<br>`;
            
            result += `<ul class="list-disc list-inside mt-2 space-y-1">
                        <li><strong>Sun in ${dominantSign}:</strong> Defining your ego and primary identity.</li>
                        <li><strong>Moon in ${secondarySign}:</strong> Governing your emotional world.</li>
                        <li><strong>Rising in ${tertiarySign}:</strong> How you present yourself to the world.</li>
                       </ul>`;

            return result;
        }
    </script>
</body>
</html>
